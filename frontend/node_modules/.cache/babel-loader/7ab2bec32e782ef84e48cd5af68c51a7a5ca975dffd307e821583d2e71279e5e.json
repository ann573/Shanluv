{"ast":null,"code":"var _jsxFileName = \"D:\\\\TLU\\\\web\\\\Shanluv\\\\frontend\\\\src\\\\context\\\\CartContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { createContext, useContext, useReducer } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartStateContext = /*#__PURE__*/createContext();\nconst CartDispatchContext = /*#__PURE__*/createContext();\nconst cartReducer = (state, action) => {\n  switch (action.type) {\n    case 'ADD_TO_CART':\n      {\n        // Check if the item already exists in the cart\n        const existingIndex = state.cart.findIndex(item => item.id === action.payload.id);\n        if (existingIndex !== -1) {\n          // If the item already exists, update its quantity\n          const updatedCart = [...state.cart];\n          updatedCart[existingIndex].quantity += action.payload.quantity;\n          return {\n            ...state,\n            cart: updatedCart\n          };\n        } else {\n          // If the item doesn't exist, add it to the cart\n          return {\n            ...state,\n            cart: [...state.cart, action.payload]\n          };\n        }\n      }\n    case 'REMOVE_FROM_CART':\n      {\n        const updatedCart = state.cart.filter(item => item.id !== action.payload.id);\n        return {\n          ...state,\n          cart: updatedCart\n        };\n      }\n    case 'CLEAR_CART':\n      {\n        return {\n          ...state,\n          cart: []\n        };\n      }\n    default:\n      return state;\n  }\n};\nexport const CartProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [state, dispatch] = useReducer(cartReducer, {\n    cart: []\n  });\n  return /*#__PURE__*/_jsxDEV(CartStateContext.Provider, {\n    value: state,\n    children: /*#__PURE__*/_jsxDEV(CartDispatchContext.Provider, {\n      value: dispatch,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n};\n_s(CartProvider, \"OHToTU8YftGbk2lgsD91fthE3MM=\");\n_c = CartProvider;\nexport const useCartState = () => {\n  _s2();\n  return useContext(CartStateContext);\n};\n_s2(useCartState, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const useCartDispatch = () => {\n  _s3();\n  return useContext(CartDispatchContext);\n};\n_s3(useCartDispatch, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["React","createContext","useContext","useReducer","CartStateContext","CartDispatchContext","cartReducer","state","action","type","existingIndex","cart","findIndex","item","id","payload","updatedCart","quantity","filter","CartProvider","children","dispatch","useCartState","useCartDispatch"],"sources":["D:/TLU/web/Shanluv/frontend/src/context/CartContext.js"],"sourcesContent":["import React, { createContext, useContext, useReducer } from 'react';\r\n\r\nconst CartStateContext = createContext();\r\nconst CartDispatchContext = createContext();\r\n\r\nconst cartReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'ADD_TO_CART': {\r\n      // Check if the item already exists in the cart\r\n      const existingIndex = state.cart.findIndex(item => item.id === action.payload.id);\r\n\r\n      if (existingIndex !== -1) {\r\n        // If the item already exists, update its quantity\r\n        const updatedCart = [...state.cart];\r\n        updatedCart[existingIndex].quantity += action.payload.quantity;\r\n        return { ...state, cart: updatedCart };\r\n      } else {\r\n        // If the item doesn't exist, add it to the cart\r\n        return { ...state, cart: [...state.cart, action.payload] };\r\n      }\r\n    }\r\n    case 'REMOVE_FROM_CART': {\r\n      const updatedCart = state.cart.filter(item => item.id !== action.payload.id);\r\n      return { ...state, cart: updatedCart };\r\n    }\r\n    case 'CLEAR_CART': {\r\n      return { ...state, cart: [] };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const CartProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(cartReducer, { cart: [] });\r\n\r\n  return (\r\n    <CartStateContext.Provider value={state}>\r\n      <CartDispatchContext.Provider value={dispatch}>\r\n        {children}\r\n      </CartDispatchContext.Provider>\r\n    </CartStateContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useCartState = () => useContext(CartStateContext);\r\nexport const useCartDispatch = () => useContext(CartDispatchContext);\r\n"],"mappings":";;;;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,UAAU,QAAQ,OAAO;AAAC;AAErE,MAAMC,gBAAgB,gBAAGH,aAAa,EAAE;AACxC,MAAMI,mBAAmB,gBAAGJ,aAAa,EAAE;AAE3C,MAAMK,WAAW,GAAG,CAACC,KAAK,EAAEC,MAAM,KAAK;EACrC,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,aAAa;MAAE;QAClB;QACA,MAAMC,aAAa,GAAGH,KAAK,CAACI,IAAI,CAACC,SAAS,CAACC,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKN,MAAM,CAACO,OAAO,CAACD,EAAE,CAAC;QAEjF,IAAIJ,aAAa,KAAK,CAAC,CAAC,EAAE;UACxB;UACA,MAAMM,WAAW,GAAG,CAAC,GAAGT,KAAK,CAACI,IAAI,CAAC;UACnCK,WAAW,CAACN,aAAa,CAAC,CAACO,QAAQ,IAAIT,MAAM,CAACO,OAAO,CAACE,QAAQ;UAC9D,OAAO;YAAE,GAAGV,KAAK;YAAEI,IAAI,EAAEK;UAAY,CAAC;QACxC,CAAC,MAAM;UACL;UACA,OAAO;YAAE,GAAGT,KAAK;YAAEI,IAAI,EAAE,CAAC,GAAGJ,KAAK,CAACI,IAAI,EAAEH,MAAM,CAACO,OAAO;UAAE,CAAC;QAC5D;MACF;IACA,KAAK,kBAAkB;MAAE;QACvB,MAAMC,WAAW,GAAGT,KAAK,CAACI,IAAI,CAACO,MAAM,CAACL,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKN,MAAM,CAACO,OAAO,CAACD,EAAE,CAAC;QAC5E,OAAO;UAAE,GAAGP,KAAK;UAAEI,IAAI,EAAEK;QAAY,CAAC;MACxC;IACA,KAAK,YAAY;MAAE;QACjB,OAAO;UAAE,GAAGT,KAAK;UAAEI,IAAI,EAAE;QAAG,CAAC;MAC/B;IACA;MACE,OAAOJ,KAAK;EAAC;AAEnB,CAAC;AAED,OAAO,MAAMY,YAAY,GAAG,QAAkB;EAAA;EAAA,IAAjB;IAAEC;EAAS,CAAC;EACvC,MAAM,CAACb,KAAK,EAAEc,QAAQ,CAAC,GAAGlB,UAAU,CAACG,WAAW,EAAE;IAAEK,IAAI,EAAE;EAAG,CAAC,CAAC;EAE/D,oBACE,QAAC,gBAAgB,CAAC,QAAQ;IAAC,KAAK,EAAEJ,KAAM;IAAA,uBACtC,QAAC,mBAAmB,CAAC,QAAQ;MAAC,KAAK,EAAEc,QAAS;MAAA,UAC3CD;IAAQ;MAAA;MAAA;MAAA;IAAA;EACoB;IAAA;IAAA;IAAA;EAAA,QACL;AAEhC,CAAC;AAAC,GAVWD,YAAY;AAAA,KAAZA,YAAY;AAYzB,OAAO,MAAMG,YAAY,GAAG;EAAA;EAAA,OAAMpB,UAAU,CAACE,gBAAgB,CAAC;AAAA;AAAC,IAAlDkB,YAAY;AACzB,OAAO,MAAMC,eAAe,GAAG;EAAA;EAAA,OAAMrB,UAAU,CAACG,mBAAmB,CAAC;AAAA;AAAC,IAAxDkB,eAAe;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}